# Linux

## 常见问题汇总

### CentOS更换 yum 源

CentOS 7 官方在 2024 年 6 月 30 日正式停止维护, 默认的`.repo`文件中指向的 URL 失效, 导致 yum 无法正常使用, 所以需要更换 yum 源. 具体方式如下

```bash
cd /etc/yum.repos.d

mv CentOS-Base.repo CentOS-Base.repo.bak

sudo curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo

yum clean all # 清除旧的 yum 缓存
yum makecache # 生成新的 yum 缓存
yum update -y # 更新软件包
```

## 命令安装相关

### 虚拟机未安装或未启动 SSH 服务

```bash
# 如果没安装, 运行
sudo yum install -y openssh-server

# 启动 SSH 服务
sudo systemctl start sshd # 立即启动 ssh 服务 (当前生效)
sudo systemctl enable sshd # 设置 ssh 服务为开机自启

# 确认是否启动成功 (查看当前服务状态)
sudo systemctl status sshd
```

### Redis编译报错

jemalloc / jemalloc.h: 没有那个文件或目录

**解决方案: make 时制定分配器为`libc` -- `make MALOC=libc`**



Redis 7.0+ 版本需要 Python 3 来生成某些配置

解决方案: `sudo yum install -y python3 `

### 其它常见命令

- `sudo yum install -y net-tools`
  - 包含了 `ifconifg` / `netstat` / `route` 等命令
  - **但现在 `iproute2` 中的套件也很常用且更强大, 并且现代 Linux 发行版中基本已经预安装过了**. 其中同样包含了网络相关命令, 比如 `ip addr` / `ip a` 用来查看 IP 地址



- `sudo yum install -y wget`



- `sudo yum groupinstall -y "Development Tools"`
  - **`yum groupinstall`: 表示安装一个软件包组, 其中包含多个相关软件**
  - `Development Tools`: 是 CentOS / RHEL 官方提供的**开发工具集合**, 其中包含了 gcc / g++ / make / git 等常用工具



















